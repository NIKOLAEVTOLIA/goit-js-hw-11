{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["'use strict';\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\ndocument.querySelector(\".form-search\").addEventListener(\"submit\", function (event) {\n    event.preventDefault();\n\n    const loader = document.querySelector(\"span.loader\");\n    const gallery = document.querySelector(\".gallery\");\n    gallery.innerHTML = '';\n\n    loader.classList.add('visible');\n\n    const searchImg = document.querySelector(\".text-input\").value;\n    const apiKey = '41728884-677575adccc9f2c5ba20b621f';\n\n    const params = {\n        key: apiKey,\n        q: searchImg,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true\n    };\n\n    const searchParams = new URLSearchParams(params).toString();\n\n    fetch(`https://pixabay.com/api/?${searchParams}`)\n        .then(response => response.json())\n        .then(data => {\n            loader.classList.remove('visible');\n\n            if (data.hits.length === 0) {\n                iziToast.error({\n                    message: 'Sorry, there are no images matching your search query. Please try again.',\n                    position: 'topRight',\n                    messageColor: '#FAFAFB',\n                    backgroundColor: '#EF4040'\n                });\n            } else {\n                data.hits.forEach(result => {\n                    const resultItem = document.createElement('li');\n                    const imgElement = document.createElement('img');\n                    const aElement = document.createElement('a');\n                    const infoElement = document.createElement(\"div\");\n\n                    imgElement.src = result.webformatURL;\n                    imgElement.alt = result.tags;\n\n                    aElement.href = result.largeImageURL;\n                    aElement.appendChild(imgElement);\n\n                    infoElement.classList.add('image-info');\n                    infoElement.innerHTML = `\n                        <p class=\"likes\">Likes <span>${result.likes}</span></p>\n                        <p class=\"views\">Views <span>${result.views}</span></p>\n                        <p class=\"comments\">Comments <span>${result.comments}</span></p>\n                        <p class=\"downloads\">Downloads <span>${result.downloads}</span></p>\n                    `;\n\n                    resultItem.appendChild(aElement);\n                    resultItem.appendChild(infoElement);\n\n                    gallery.appendChild(resultItem);\n                });\n                \n                const modal = new SimpleLightbox('.gallery a', {\n                    captionsData: 'alt',\n                    captionDelay: 250,\n                });\n\n                modal.refresh();\n            }\n        })\n        .catch(error => {\n            console.error(\"Error fetching search results:\", error);\n            loader.classList.remove('visible');\n        });\n});"],"names":["event","loader","gallery","params","searchParams","response","data","iziToast","result","resultItem","imgElement","aElement","infoElement","SimpleLightbox","error"],"mappings":"6vBAQA,SAAS,cAAc,cAAc,EAAE,iBAAiB,SAAU,SAAUA,EAAO,CAC/EA,EAAM,eAAc,EAEpB,MAAMC,EAAS,SAAS,cAAc,aAAa,EAC7CC,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAY,GAEpBD,EAAO,UAAU,IAAI,SAAS,EAK9B,MAAME,EAAS,CACX,IAHW,qCAIX,EALc,SAAS,cAAc,aAAa,EAAE,MAMpD,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,EAEUC,EAAe,IAAI,gBAAgBD,CAAM,EAAE,SAAQ,EAEzD,MAAM,4BAA4BC,GAAc,EAC3C,KAAKC,GAAYA,EAAS,MAAM,EAChC,KAAKC,GAAQ,CACVL,EAAO,UAAU,OAAO,SAAS,EAE7BK,EAAK,KAAK,SAAW,EACrBC,EAAS,MAAM,CACX,QAAS,2EACT,SAAU,WACV,aAAc,UACd,gBAAiB,SACrC,CAAiB,GAEDD,EAAK,KAAK,QAAQE,GAAU,CACxB,MAAMC,EAAa,SAAS,cAAc,IAAI,EACxCC,EAAa,SAAS,cAAc,KAAK,EACzCC,EAAW,SAAS,cAAc,GAAG,EACrCC,EAAc,SAAS,cAAc,KAAK,EAEhDF,EAAW,IAAMF,EAAO,aACxBE,EAAW,IAAMF,EAAO,KAExBG,EAAS,KAAOH,EAAO,cACvBG,EAAS,YAAYD,CAAU,EAE/BE,EAAY,UAAU,IAAI,YAAY,EACtCA,EAAY,UAAY;AAAA,uDACWJ,EAAO;AAAA,uDACPA,EAAO;AAAA,6DACDA,EAAO;AAAA,+DACLA,EAAO;AAAA,sBAGlDC,EAAW,YAAYE,CAAQ,EAC/BF,EAAW,YAAYG,CAAW,EAElCV,EAAQ,YAAYO,CAAU,CAClD,CAAiB,EAEa,IAAII,EAAe,aAAc,CAC3C,aAAc,MACd,aAAc,GAClC,CAAiB,EAEK,QAAO,EAE7B,CAAS,EACA,MAAMC,GAAS,CACZ,QAAQ,MAAM,iCAAkCA,CAAK,EACrDb,EAAO,UAAU,OAAO,SAAS,CAC7C,CAAS,CACT,CAAC"}